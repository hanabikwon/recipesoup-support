<?xml version="1.0" encoding="UTF-8"?>
<screen name="로딩 화면">
    <description>데이터 로딩 중 표시되는 화면</description>
    
    <layout type="stack">
        <!-- 배경 -->
        <container
            width="match_parent"
            height="match_parent"
            background_color="#F5F5F5">
            
            <!-- 중앙 콘텐츠 -->
            <container
                width="match_parent"
                height="wrap_content"
                orientation="vertical"
                gravity="center"
                layout_gravity="center"
                padding="32dp">
                
                <!-- 로딩 인디케이터 -->
                <progress_indicator
                    id="main_loading"
                    width="64dp"
                    height="64dp"
                    style="circular"
                    color="#PRIMARY_COLOR"/>
                
                <!-- 로딩 메시지 -->
                <text
                    id="loading_message"
                    width="wrap_content"
                    height="wrap_content"
                    text="잠시만 기다려주세요..."
                    text_size="18sp"
                    text_color="#333333"
                    margin_top="24dp"/>
                
                <!-- 상세 메시지 (동적 변경) -->
                <text
                    id="loading_detail"
                    width="wrap_content"
                    height="wrap_content"
                    text="데이터를 불러오는 중입니다"
                    text_size="14sp"
                    text_color="#666666"
                    margin_top="8dp"
                    text_align="center"/>
                
                <!-- 진행률 표시 (선택사항) -->
                <container
                    width="match_parent"
                    height="wrap_content"
                    margin_top="32dp"
                    visibility="gone">
                    
                    <!-- 진행률 바 -->
                    <progress_bar
                        id="progress_bar"
                        width="match_parent"
                        height="4dp"
                        style="horizontal"
                        progress="0"
                        max="100"
                        color="#PRIMARY_COLOR"
                        background_color="#E0E0E0"/>
                    
                    <!-- 진행률 텍스트 -->
                    <text
                        id="progress_text"
                        width="wrap_content"
                        height="wrap_content"
                        text="0%"
                        text_size="12sp"
                        text_color="#999999"
                        layout_gravity="center_horizontal"
                        margin_top="8dp"/>
                        
                </container>
                
            </container>
            
            <!-- 취소 버튼 (선택사항) -->
            <button
                id="cancel_button"
                width="wrap_content"
                height="wrap_content"
                text="취소"
                style="text"
                text_color="#666666"
                layout_gravity="bottom|center_horizontal"
                margin_bottom="32dp"
                visibility="gone"/>
                
        </container>
    </layout>
    
    <states>
        <!-- 다양한 로딩 상태 -->
        <state name="initial">
            <set_text target="loading_detail" text="초기화 중..."/>
        </state>
        
        <state name="fetching">
            <set_text target="loading_detail" text="서버에서 데이터를 가져오는 중..."/>
        </state>
        
        <state name="processing">
            <set_text target="loading_detail" text="데이터 처리 중..."/>
        </state>
        
        <state name="almost_done">
            <set_text target="loading_detail" text="거의 완료되었습니다..."/>
        </state>
    </states>
    
    <animations>
        <!-- 로딩 인디케이터 회전 -->
        <rotate
            target="main_loading"
            duration="1000ms"
            repeat="infinite"/>
        
        <!-- 텍스트 페이드 애니메이션 -->
        <fade
            target="loading_detail"
            duration="300ms"
            on_text_change="true"/>
    </animations>
    
    <actions>
        <!-- 취소 액션 -->
        <click_action
            target="cancel_button"
            action="cancel_loading"/>
    </actions>
</screen>