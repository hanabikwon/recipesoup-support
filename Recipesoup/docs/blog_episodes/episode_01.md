# Episode 1: "감정 기반 레시피 앱, 왜 만들었나?"

**작성일**: 2025-10-08
**개발 기간**: 2025-08-28 ~ 2025-08-31 (4일)
**주요 키워드**: #프로젝트동기 #MVP기획 #기술스택선정 #초기설계

---

## 🍳 프롤로그: 요리하는 사람의 마음

"오늘 뭐 먹지?"

이 질문은 단순해 보이지만, 요리하는 사람에게는 훨씬 더 깊은 의미를 담고 있다. 우리는 배가 고파서만 요리하지 않는다. 누군가를 위해, 기념일을 축하하기 위해, 혹은 힘든 하루를 위로하기 위해 음식을 만든다.

하지만 기존의 레시피 앱들은 어떤가? 재료와 조리법, 칼로리와 영양소... 모두 중요하지만, 정작 **"왜 이 요리를 만들었는가"**라는 가장 중요한 이야기는 빠져있었다.

2025년 8월 28일, 나는 이런 생각을 하며 새로운 프로젝트를 시작했다.

---

## 💡 왜 만들었는가? - 프로젝트 동기

### 1. 레시피 앱의 공백을 발견하다

처음엔 시중의 레시피 앱들을 써보려 했는데, 뭔가 아쉬웠다:
- **정보 중심**: 재료, 조리법, 칼로리만 저장... 근데 내가 왜 이 요리를 만들었는지는?
- **감정 부재**: "엄마 생각나서", "친구 위로하려고"같은 이야기를 적을 곳이 없었다
- **관계 단절**: 요리에 담긴 사람과 사람 사이의 이야기가 사라지는 느낌

> "아, 이거구나. **이 요리를 왜 만들었는지, 누구를 위해 만들었는지**를 함께 기록하는 게 빠져있네."

이 생각이 Recipesoup을 시작하게 된 계기였다.

### 2. 어떤 사람들을 위한 앱일까?

만들다 보니 자연스럽게 3가지 사용자 모습이 떠올랐다:

1. **요리를 마음 표현의 수단으로 여기는 사람**
   - 나처럼 "오늘 기분 좋은데 뭐 해먹지?"라고 생각하는 사람들

2. **누군가를 위해 요리하며 기억을 남기고 싶은 사람**
   - "엄마가 좋아하시는 요리", "친구를 위로하려고 만든 음식" 같은 순간을 기록하고 싶은 사람들

3. **레시피를 숫자와 재료가 아닌 기억과 감정으로 기록하고 싶은 사람**
   - "정확히 300g"보다는 "엄마가 해주던 그 맛"을 기억하고 싶은 사람들

### 3. 핵심 가치 설정

**"요리하는 사람의 마음까지 남기는 공간"**

- 단순 정보 저장이 아닌, **감정과 이야기의 아카이빙**
- 레시피 = 재료 + 조리법 + **감정 메모** + **관계**
- 삶의 순간들을 요리를 통해 기록하는 개인 다이어리

---

## 🎯 MVP 요구사항 정의

### 만들면서 자연스럽게 정리된 핵심 기능들

기획 문서를 쓰면서(8월 28일) 이 앱에 꼭 필요한 기능 4가지가 자연스럽게 정리됐다:

#### 1. 레시피 작성 및 감정 메모 기록
```
사용자 스토리:
"요리의 재료와 조리 방법뿐만 아니라, 왜 이 요리를 만들었는지,
누구를 위해 만들었는지, 그리고 당시의 감정이나 상황을
한 줄 메모로 함께 기록할 수 있다."
```

**설계 결정사항** (8월 28일 Q&A 세션):
- Recipe 모델에 `emotionalStory` 필드 추가
- 감정 상태를 Enum 타입으로 정의 (Mood: happy, sad, peaceful, tired 등)
- 평점 시스템 포함 (1-5점, 개인 만족도)

#### 2. AI 음식 분석 및 날짜 자동 기록
```
사용자 스토리:
"선택적으로 음식 사진을 AI로 분석하여 레시피를 자동 추천받을 수 있다.
사진은 분석 후 즉시 삭제되며 저장되지 않는다."
```

**기술적 결정**:
- OpenAI GPT-4o-mini API 사용 (Vercel 프록시 경유)
- **보안 우선 설계**: API 키는 Vercel 서버리스 환경변수에서만 관리
- 클라이언트는 프록시 토큰만 사용 (API 키 노출 방지)

#### 3. 자유로운 재료·방법 입력 및 태그 기능
```
설계 원칙:
"복잡한 구조 없이, 재료와 만드는 법을 자유롭게 입력할 수 있고
상황에 맞는 감성 태그를 추가하여 감정 기준으로 탐색할 수 있다."
```

**구현 방향**:
- 재료: 구조화된 리스트 (Ingredient 모델)
- 조리법: 단계별 자유 텍스트
- 태그: `#파티` `#혼밥` `#기념일` 등 감성 중심

#### 4. 레시피 리스트 및 상세 보기
```
UX 목표:
"기록된 레시피들은 카드형 목록으로 정리되며,
감정과 기억의 흐름을 시각적으로 돌아볼 수 있는
개인 아카이브 역할을 한다."
```

---

## 🛠️ 기술 스택 선정 이유

### 왜 Flutter를 선택했을까?

처음엔 어떤 기술로 만들지 고민이 많았다. 여러 옵션을 놓고 비교하다 보니 Flutter가 내 상황에 가장 잘 맞는 것 같았다:

1. **크로스 플랫폼**: iOS도 Android도 한 번에 만들 수 있다니 매력적이었다
2. **빠른 개발**: Hot Reload가 정말 편할 것 같았다 (실제로 써보니 진짜 편함!)
3. **Material Design 3**: 내가 원하던 빈티지 아이보리 테마를 구현하기 좋아 보였다

**다른 선택지들도 있었는데**:
- React Native ❌ → 성능 이슈 및 네이티브 모듈 복잡도
- Swift/Kotlin ❌ → 크로스 플랫폼 불가능

### OpenAI API는 왜 쓰게 됐을까?

AI로 음식 사진 분석하는 기능이 필요했는데, 여러 API를 비교해보니 OpenAI가 좋더라:

1. **GPT-4o-mini**: 이미지 보고 뭔지 잘 알아맞춰줬다
2. **한국어 지원**: OCR도 되고 레시피 분석도 괜찮았다
3. **빠른 응답**: 기다리는 시간이 3-5초 정도라 나쁘지 않았다

**근데 처음엔 보안을 잘 몰랐다** (큰 실수였음):

초기엔 그냥 `.env` 파일에 API 키 넣고 앱에서 바로 호출했다. 개발하면서는 잘 되니까 문제를 몰랐는데... 나중에 보니 **API 키가 코드에 그대로 노출**되고 있었다. 😱

**9월 23일경, 급하게 수정함**:

"이거 배포하면 API 키 다 털리는 거 아냐?" 싶어서 부랴부랴 Vercel 프록시 방식으로 바꿨다:

```
내 Flutter 앱 → Vercel 서버 (중간다리) → OpenAI API
```

Vercel 서버에서만 실제 API 키를 갖고 있고, 앱은 앱 전용 토큰으로만 접근하게 만들었다. 이렇게 하니까:
- ✅ API 키가 앱 코드에 안 보임 (안전!)
- ✅ 앱 전용 토큰으로만 접근 가능
- ✅ 과도한 API 호출도 서버에서 막을 수 있음

*교훈: 보안은 처음부터 신경 써야 한다. 나중에 고치려면 코드 다 뜯어고쳐야 해서 고생했다...*

### 데이터 저장은 Hive로 결정!

로컬에 데이터를 저장하는 방법을 고민하다가 Hive를 선택하게 됐다:

1. **심플함**: SQLite는 테이블 설계가 복잡해 보였는데 Hive는 간단했다
2. **빠른 성능**: JSON으로 저장하는데도 빠르더라
3. **오프라인 우선**: 인터넷 없어도 다 되니까 개인 다이어리 앱에 딱이었다

**다른 것들도 봤는데**:
- SQLite ❌ → 테이블이랑 쿼리 관리하기가 번거로워 보였다
- SharedPreferences ❌ → 레시피 많아지면 느려질 것 같았다
- Supabase/Firebase ❌ → 개인 일기장인데 굳이 서버가 필요할까?

**결정하면서 중요하게 생각한 것**:
> "내 레시피는 내 폰에만 있으면 돼. 로그인도 필요 없고, 서버도 필요 없어."

---

## 📋 초기 설계 과정

### 8월 28일: Claude와 함께 고민한 것들

프로젝트 시작하면서 제일 막막했던 게 "어떤 데이터를 저장할까?"였다.

#### Q1: Recipe 모델을 어떻게 만들지?

처음엔 단순하게 생각했다:
> "제목, 재료, 만드는 법만 있으면 되는 거 아니야?"

근데 곰곰이 생각해보니 내가 원하는 건 **단순 레시피 저장이 아니라 감정 일기**였다.

그래서 이렇게 정리됐다:

```dart
class Recipe {
  String id;
  String title;                  // 요리 이름
  String emotionalStory;         // ⭐ 이게 핵심! 왜 만들었는지의 이야기
  List<Ingredient> ingredients;  // 재료들
  List<String> instructions;     // 만드는 방법
  String? localImagePath;        // 사진 (있으면)
  List<String> tags;             // #태그들
  DateTime createdAt;            // 언제 만들었는지
  Mood mood;                     // ⭐ 그때의 감정
  int? rating;                   // 맛있었는지 (별점)
}
```

**왜 이렇게 만들었나**:
- `emotionalStory`: 기억하고 싶은 건 조리법이 아니라 **그날의 이야기**였다
- `Mood`: 감정을 8가지로 나눴다 (기쁨, 슬픔, 평온, 피로, 설렘, 그리움, 편안함, 감사)
- 사진은 로컬에만 저장 (AI 분석은 그때만 쓰고 결과는 안 남김)

#### Q2: 감정은 어떻게 저장할까?

처음엔 그냥 텍스트로 "기쁨", "슬픔" 이렇게 저장하려고 했다.

근데 나중에 통계 낼 때 불편할 것 같았다. 오타도 날 수 있고...

그래서 **Enum으로 정해진 8가지 감정**만 쓰기로 했다:

```dart
enum Mood {
  happy('😊', '기쁨', 'happy'),
  sad('😢', '슬픔', 'sad'),
  peaceful('😌', '평온', 'peaceful'),
  tired('😴', '피로', 'tired'),
  excited('🤩', '설렘', 'excited'),
  nostalgic('🥺', '그리움', 'nostalgic'),
  comfortable('☺️', '편안함', 'comfortable'),
  grateful('🙏', '감사', 'grateful');
}
```

이렇게 하니까 좋았던 점:
- 이모지까지 같이 저장돼서 UI에서 바로 쓸 수 있음
- 나중에 "슬픔" 감정으로 만든 레시피만 모아볼 때 편함
- 오타 걱정 없음!

#### Q3: AI는 어떻게 쓸까?

처음엔 "AI로 뭐든 다 해결하자!" 싶었는데...

곰곰이 생각해보니 이건 **개인 일기장**이잖아? AI가 과하면 안 될 것 같았다.

그래서 이렇게 정했다:
- **사진 분석만** AI 사용 (재료랑 만드는 법 추천)
- 분석 끝나면 **사진은 바로 삭제** (저장 안 함)
- AI 추천은 참고만 하고, 결국 내가 직접 감정 이야기는 써야 함

> "AI는 도우미일 뿐, 주인공은 나의 감정과 이야기"

#### Q4: 상태관리는 뭘로 할까?

Flutter 공부하면서 Riverpod, Bloc, GetX 이런 거 많이 들었는데...

솔직히 다 어려워 보였다. 😅

그래서 제일 간단해 보이는 **Provider**로 시작하기로 했다.
- Flutter 공식 문서에서 추천하더라
- 예제도 많고 학습 자료 찾기 쉬움
- MVP 만들기엔 충분할 것 같았음

*나중에 복잡해지면 그때 바꿔도 되지 뭐...*

#### Q5: 데이터 저장은 어떻게 할까?

처음엔 "SQLite가 정석 아니야?"라고 생각했다.
근데 Claude가 **Hive**를 추천하더라. NoSQL이라는데 JSON으로 그냥 저장한다고?

찾아보니 진짜 간단했다:
- Recipe 모델 → JSON으로 변환 → Hive Box에 저장
- 테이블 설계 같은 거 안 해도 됨
- 앱 완전 오프라인 작동 (인터넷 없어도 OK)

"일단 심플하게 시작하자"고 정했다.
*나중에 복잡해지면 SQLite로 바꿔도 되니까...*

---

## 🎨 디자인은 어떻게 정했을까?

### 빈티지 아이보리 테마를 선택한 이유

처음엔 그냥 "요리 앱이니까 빨강/주황 계열?"이라고 생각했다.
근데 Claude가 **아이보리 + 올리브** 조합을 제안하더라.

> "감정 회고에 집중하려면 시각적으로 차분한 색이 좋아요"

그 말이 맞는 것 같았다. 내가 만들려는 건:
- 화려한 요리 SNS (❌)
- **조용히 감정을 기록하는 공간 (⭕)**

그래서 이렇게 정리됐다:

```dart
primaryColor: #8B9A6B      // 연한 올리브 그린
backgroundColor: #FAF8F3   // 아이보리 백그라운드
cardColor: #F8F6F1         // 따뜻한 아이보리
accentOrange: #D2A45B      // 빈티지 오렌지 (포인트)
textPrimary: #2E3D1F       // 다크 올리브 (텍스트)
```

**왜 이 색들이야?**
- 베이지/올리브/크림: 눈이 편함 (감정 회고할 때 집중 가능)
- 빈티지 느낌: 옛날 요리책 같은 따뜻함
- 자연스러운 색: 요리 재료 색깔이랑 비슷해서 조화로움

### 화면 구조는 어떻게 짰을까?

**5개 탭 Bottom Navigation**:
처음엔 "탭이 많으면 복잡하지 않을까?"했는데, 기능별로 나누니 오히려 깔끔했다.

```
├── 🏠 홈 (요즘 뭐 만들었지?)
├── 🔍 검색 (감정/태그로 찾기)
├── 📊 통계 (감정 분포 보기)
├── 📁 보관함 (폴더별 정리)
└── ⚙️ 설정 (백업/설정)
```

**FAB (동그란 버튼)**:
빈티지 오렌지 색으로 눈에 띄게 만들었다.
클릭하면:
- 📝 빠른 작성
- 📷 사진으로 작성
- 🔤 키워드 입력

*제일 많이 쓸 "레시피 작성" 버튼이니까 확 보이게!*

---

## 🔐 보안 문제가 생겼다

### API 키를 앱에 넣으면 안 되는데...

**8월 30일, 큰 문제를 발견했다.**

**문제 1**: Flutter 앱에서 OpenAI API를 바로 호출하면 **CORS 에러** 발생
**문제 2**: API 키를 앱에 포함하면 **누구나 추출 가능** (보안 위험!)

> "아, 이거... 앱 뜯어보면 API 키 다 보이겠네?"

찾아보니 **Vercel 서버리스 함수**로 프록시를 만드는 방법이 있더라.

**어떻게 작동하나?**
```
앱 (API 키 없음)
  ↓ 프록시 토큰만 가지고
Vercel 프록시 (API 키 보관)
  ↓ 진짜 API 키로
OpenAI API
```

즉:
1. 앱은 "프록시 토큰"만 가짐 (보안용 열쇠)
2. Vercel 서버가 진짜 OpenAI API 키를 보관
3. 앱 → Vercel → OpenAI 순서로 요청

**이렇게 해서 좋은 점**:
- ✅ 앱에는 진짜 API 키가 없어서 안전
- ✅ `.gitignore`로 환경변수 파일 보호
- ✅ 프로덕션 빌드에도 API 키 노출 없음

솔직히... 이 문제를 발견하고 나서 며칠 동안은 다른 기능들 만드느라 바빴다.
당장 테스트할 땐 개발 환경에서 API 키 넣고 돌리면 되니까.

그런데 9월 중순쯤 되니까 계속 마음에 걸리더라.
*"이거 진짜 배포하려면 해결해야 되는데..."*

**9월 23일, 드디어 구현 완료**:
- Vercel 프로젝트 `recipesoup-proxy` 생성
- 서버리스 함수 배포
- Flutter 앱 연동 테스트 성공

*처음엔 복잡해 보였는데, 막상 해보니 괜찮더라!*

---

## 📊 첫 4일간 뭘 했나?

### Phase 0-1: 프로젝트 셋업 (8월 28-31일)

**해야 할 일 리스트**를 만들었다:
- ✅ Flutter 프로젝트 생성 (당연히 제일 먼저)
- ✅ 폴더 구조 짜기
  ```
  lib/
  ├── config/        # API 설정, 테마 색상
  ├── models/        # Recipe, Ingredient, Mood
  ├── services/      # OpenAI, Hive
  ├── screens/       # 화면들
  ├── widgets/       # 버튼 같은 공통 요소
  ├── providers/     # 상태 관리
  └── utils/         # 이것저것 도구들
  ```
- ✅ 필요한 패키지 설치
  - `provider` (상태 관리)
  - `dio` (API 호출)
  - `hive` (로컬 저장)
  - `image_picker` (사진 선택)
- ⏳ Vercel 프록시 설정 *(9월 23일에 완료하게 됨)*
- ✅ iOS/Android 권한 설정 (카메라, 사진)

**문서도 작성했다**:
처음엔 "문서가 왜 필요해?"라고 생각했는데, Claude가 강력히 추천하더라.

결과적으로 **아주 잘한 선택**이었다:
- `CLAUDE.md`: 프로젝트 전체 개요
- `ARCHITECTURE.md`: 시스템 구조 설명
- `DESIGN.md`: 디자인 가이드
- `PROGRESS.md`: 진행 상황 기록

*나중에 까먹었을 때 진짜 도움 많이 됐다...*

---

## 💭 회고: 4일 동안 느낀 것들

### 뭐가 잘됐을까?

**1. 처음부터 명확했던 방향성**

"감정을 기록하는 레시피 앱"이라는 컨셉이 처음부터 분명했던 게 제일 잘한 일 같다.
다른 레시피 앱들처럼 "재료 검색", "칼로리 계산" 이런 기능들은 안 넣기로 했다.
*내가 만들고 싶은 건 요리 백과사전이 아니라, 그날의 감정을 담는 공간이니까.*

**2. 보안 문제를 일찍 발견한 건 신의 한 수**

8월 30일에 보안 문제를 발견하고, 나중에라도 Vercel 프록시로 제대로 해결한 게 진짜 잘한 선택이었다.
앱 배포하면 누군가 APK 파일 뜯어볼 수도 있잖아?
그때 API 키가 노출되면... 상상만 해도 끔찍하다 😱

**3. 일단 심플하게!**

Provider, Hive, Navigator 1.0... 전부 가장 기본적인 걸로 선택했다.
처음엔 "이것만으로 충분할까?" 걱정했는데,
결과적으로 **딱 필요한 만큼만** 쓴 게 개발 속도를 엄청 높여줬다.

> "복잡한 건 나중에 필요하면 추가하면 되지, 일단은 작동하는 걸 만들자!"

**4. 문서 작성의 힘**

강의에서 강사님이 "Q&A 세션 문서로 남기세요"라고 추천해서 만든 CLAUDE.md, ARCHITECTURE.md가 진짜 도움이 됐다.
며칠 지나니까 "아 이거 왜 이렇게 했더라?" 싶은 순간들이 있었는데,
문서 열어보면 과거의 나랑 대화하는 느낌? ㅋㅋ

**5. Flutter + Hive 조합, 왜 추천했을까?**

강의에서 Flutter + Hive 조합을 추천받았는데,
막상 다른 선택지들 보니까 이해가 갔다.

**React Native는 왜 안 했을까?**
- JavaScript ES5/ES6/ES7... 버전별 차이 공부해야 함
- TypeScript면 타입 시스템까지
- Node.js 버전, npm 패키지 호환성...
- 초보자한테는 **생태계 복잡도가 너무 높음**

**Swift는?**
- iOS만 됨 (나중에 Android 생각 바뀌면?)
- Xcode + SwiftUI 러닝커브

**Flutter는:**
- ✅ Dart 하나만 배우면 됨 (버전 걱정 적음)
- ✅ Hot Reload로 빠른 개발
- ✅ 혹시 몰라 Android도 가능 (보험?)
- ✅ Hive는 SQL 없이 JSON처럼 쓰면 끝

**결국 "복잡도 최소화"가 핵심이었던 것 같다.**

### 아쉬웠던 건...

**1. 네이버 블로그는 무리수였다**

처음엔 "URL 넣으면 자동으로 레시피 파싱되면 멋있겠는데?"라고 생각했다.
RSS도 찾아보고, 모바일 버전도 보고, HTML 구조 분석도 해봤는데...
**너무 복잡하더라.**

> "이거 하나 붙잡고 있다가는 MVP 자체가 안 나올 것 같은데?"

결국 후순위로 미뤘다. Episode 2 이후에 다시 도전해볼 생각.

**2. `\n` 같은 사소한 버그들**

UI 안내 문구에 개행 문자가 그대로 보이는 버그가 있었다.
기능적으론 큰 문제 없는데, 사용자 입장에선 "뭐야 이 앱?" 할 수도...
*사소한 것들도 신경 써야겠다고 느낀 순간.*

---

## 🎯 다음 이야기: Episode 2 예고편

**"하루 만에 MVP 완성했다... 진짜로?"**

9월 1일, 나는 **단 하루 만에** 앱의 첫 버전을 완성했다.

> "앱이 드디어 작동하는데, 이게 진짜 내가 만든 거 맞아...?"

다음 에피소드에서 공개할 내용:
- ⚡ **24시간 개발 타임라인**: 새벽부터 밤까지 뭘 했나
- 🤖 **OpenAI Vision API 연결**: 음식 사진을 AI가 분석하다니!
- 📱 **레시피 CRUD 완성**: 작성/저장/목록/삭제 모두 구현
- 💾 **Hive DB 첫 세팅**: "JSON 저장이 이렇게 쉬워?"
- 🎨 **빈티지 테마 적용**: 아이보리 색상이 이렇게 예쁠 줄이야

**가장 중요한 부분은 AI 연동 과정:**
- CORS 에러로 3시간 헤맸던 이야기
- Vercel 프록시 구축 과정 (진땀 뺐음)
- 이미지 분석 결과를 레시피로 파싱하기
- 로딩 중 화면 만들면서 느낀 것

> "처음으로 AI가 내 음식 사진을 보고 재료를 맞춰줬을 때,
> 너무 신기해서 소리 지를 뻔했다 ㅋㅋㅋ"

*다음 이야기에서 계속...*

---

## 📌 핵심 요약

### 프로젝트 동기
- 기존 레시피 앱의 공백: 감정과 이야기 부재
- **"요리하는 사람의 마음까지 남기는 공간"** 필요

### MVP 핵심 기능
1. 감정 메모와 함께 레시피 기록
2. AI 음식 분석 (선택적, 임시적)
3. 자유로운 재료·방법 입력 + 감성 태그
4. 카드형 레시피 리스트 및 상세보기

### 기술 스택
- **Flutter**: 크로스 플랫폼, 빠른 개발
- **OpenAI API**: GPT-4o-mini (Vercel 프록시 경유)
- **Hive**: 심플한 NoSQL 로컬 저장
- **Provider**: 최대한 심플한 상태 관리

### 디자인
- **빈티지 아이보리 테마**: 따뜻하고 감성적
- **Bottom Navigation**: 5탭 구조
- **감정 중심 UI**: 이모지, 색상, 태그

### 보안
- **Vercel 프록시**: API 키 서버 측 관리
- **클라이언트 토큰**: x-app-token 인증
- **완전 로컬**: 사용자 데이터는 기기에만

---

**다음 편에서 계속됩니다...**

> "하루 만에 MVP를 완성하고, AI가 음식 사진을 분석하는 마법 같은 순간을 경험하다."

---

*이 글은 Recipesoup 개발기 시리즈의 첫 번째 에피소드입니다.*
*실제 개발 과정의 대화 기록과 프로젝트 문서를 바탕으로 작성되었습니다.*
