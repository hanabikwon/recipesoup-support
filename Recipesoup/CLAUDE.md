# [Recipesoup] - [감정 기반 레시피 아카이빙 툴: 단순히 요리 방법을 저장하는 게 아니라, **이 요리를 왜 만들었는지, 누구를 위해 만들었는지**를 함께 기록하는 감성 기반 레시피 저장소]

## 프로젝트 개요
- **서비스명**: [Recipesoup] - [감정 기반 레시피 아카이빙 툴: 단순히 요리 방법을 저장하는 것이 아니라 **이 요리를 왜 만들었는지, 누구를 위해 만들었는지**
그 순간의 감정과 기억까지 함께 기록하는 감성 레시피 다이어리]
- **목표**: [요리라는 행위에 담긴 감정과 이야기를 함께 아카이빙함으로써
‘요리하는 사람의 마음’까지 남기는 공간을 제공. 단순한 정보 저장이 아닌,
**‘누구를 위해, 어떤 마음으로 만들었는가’**를 기록함으로써
요리를 삶의 기억으로 연결하는 감성 기반 기록 경험을 만든다.]
- **설계 방향** 모든 앱 서비스는 앱 자체 내에서 모두 처리 (회원 로그인 등의 기능 없음)
- **대상**: [1. 요리를 마음 표현의 수단으로 여기는 사람/ 2. 누군가를 위해 요리하며 기억을 남기고 싶은 사람/ 3. 레시피를 숫자와 재료가 아닌 기억과 감정으로 기록하고 싶은 사람]

## 기술 스택
- **프레임워크**: Flutter
- **AI/ML**: 
  - API key: [.env 파일에서 관리 - 보안상 하드코딩 금지]
  - 모델: [gpt-4o-mini]
- **데이터 저장**: [로컬]

## 핵심 문서
- **@CLAUDE.md**: 프로젝트 개요 및 작업 가이드 (이 문서)
- **@ARCHITECTURE.md**: 시스템 구조, DB 스키마, API 명세
- **@PROGRESS.md**: 개발 진행 상황, 완료/미완료 작업
- **@DESIGN.md**: UI/UX 디자인 가이드
- **@TESTPLAN.md**: 테스트 전략 및 테스트 케이스
- **@TESTDATA.md**: 테스트용 샘플 데이터
- **@NOTE.md**: 개발 중 발견한 이슈와 해결 방법

## 공통 작업 가이드
### 개발 프로세스
- 모든 작업은 ultra think 해서 작업해주세요.
- 모든 작업은 
  1. 먼저 현재 상태를 철저히 분석하고, 
  2. 철저하게 계획을 세우고, 
  3. sub agents 로 분리하지 말고, 순차적인 작업 계획을 작성한 후, 
  4. API 는 모두 TDD 기반으로 테스트 코드 및 실제 코드를 구현하고, 
  5. API 는 예외 케이스까지 완벽히 테스트하고, 
  6. 코드 완성 후에는 바로 종료하지 말고, 전체 코드를 코드 레벨로 확인하여, 확실한 버그가 발견되면, 수정해주세요
- 작업이 완료되면 꼭 기억해야할 내용에 대해서는 PROGRESS.md 파일에 기록해주고, 
- 필요시 CLAUDE.md 와 ARCHITECTURE.md 등의 다음 주요 파일들도 개선해주세요
- 모든 작업은 다음 주요 파일을 확인하여 작업해주세요
  - **@CLAUDE.md**: 전체 프로젝트 개요 및 기술스택과 작업 가이드
  - **@ARCHITECTURE.md**: 시스템 구조, DB 스키마, API 명세
  - **@PROGRESS.md**: 개발 진행 상황, 완료/미완료 작업 (작업 후 반드시 기억해야할 내용)
  - **@DESIGN.md**: UI/UX 디자인 가이드
    - wireframes 하위폴더에 UI 구현이 필요한 모든 화면은 xml 포멧으로 UI 화면 표현
  - **@TESTPLAN.md**: 테스트 항목
  - **@TESTDATA.md**: 테스트시 필요한 데이터
  - **@NOTE.md**: 빈번한 실수와 해결 방법 기억
- 작업 완료 후에는 테스트 항목을 @TESTPLAN.md 파일에 작성하고, Flutter 웹으로 빌드하여 크롬에서 실행한 후, Playwright MCP 로 테스트하여, 모든 버그를 side effect 를 고려하여 신중하게 수정한 후, @TESTPLAN.md 에 기재된 모든 테스트 항목이 PASS 할 때까지 작업을 반복합니다
  - 주로 실수하는 항목은 @NOTE.md 파일에 이후 실수를 반복하지 않기 위해 기재합니다.


### 문서 업데이트
- 작업 완료 후 PROGRESS.md 업데이트
- 중요한 변경사항은 관련 문서 모두 업데이트
- 실수나 이슈는 NOTE.md에 기록

### 테스트 전략
- 단위 테스트: 모든 서비스와 유틸리티
- 위젯 테스트: UI 컴포넌트
- 통합 테스트: 주요 사용자 시나리오
- Flutter 웹 빌드 후 브라우저 테스트

## MCP 사용 설정 (옵션)
- 연결된 MCP 도구들을 여기에 기록
- 예: Playwright MCP (브라우저 제어)

## 주요 기능
1. **[레시피 작성 및 감정 메모 기록]**: [사용자는 요리의 재료와 조리 방법뿐만 아니라, 왜 이 요리를 만들었는지, 누구를 위해 만들었는지, 그리고 당시의 감정이나 상황을 한 줄 메모로 함께 기록할 수 있습니다. 단순 저장이 아닌, 요리에 담긴 이야기를 남길 수 있습니다.]
2. **[핵심 기능 2. 사진 업로드 및 날짜 자동 기록]**: [요리 결과물이나 과정 사진을 업로드하고, 요리한 날짜를 자동으로 저장하거나 수동 선택할 수 있습니다. 시간순 회고, 감정 흐름 파악에 용이합니다.]
3. **[핵심 기능 3. 자유로운 재료·방법 입력 및 태그 기능]**: [복잡한 구조 없이, 재료와 만드는 법을 자유롭게 입력할 수 있고 상황에 맞는 감성 태그(예: #파티 #혼밥 #기념일 등)를 추가하여 나중에 비슷한 레시피를 감정 기준으로 탐색할 수 있습니다.]
4. **[핵심 기능 4. 레시피 리스트 및 상세 보기]**: [기록된 레시피들은 카드형 목록으로 정리되며, 각 레시피를 클릭하면 사진, 감정 메모, 재료, 조리법 등 전체 내용을 열람할 수 있습니다. 감정과 기억의 흐름을 시각적으로 돌아볼 수 있는 개인 아카이브 역할을 합니다.]

## 필수 환경변수 (.env)
```
# API Keys
OPENAI_API_KEY=your_openai_api_key_here
API_MODEL=gpt-4o-mini
```

## 보안 체크리스트
- [o] API 키는 절대 소스 코드에 하드코딩하지 않기
- [o] .env 파일은 .gitignore에 추가
- [o] 민감한 정보는 로그에 남기지 않기

### 환경 설정
- .env 파일 생성 및 설정
- iOS/Android 권한 설정
- 앱 아이콘 및 스플래시 스크린

---

## 📋 문서 버전 히스토리

### v2025.09.19 - 토끼굴 마일스톤 시스템 최적화 완료
**최적화 작업 완료:**
- ✅ **코드 최적화**: `burrow_unlock_service.dart`에서 31개 레시피 요구사항 110→70개로 전면 수정
- ✅ **수학적 진행 설계**: 1-5단계(+1), 6-21단계(+2), 22-32단계(+3) 자연스러운 성장 곡선 구현
- ✅ **문서 동기화**: 모든 주석, 로그 메시지, README.md, PROGRESS.md 일관성 확보
- ✅ **사용자 경험 개선**: 110개→70개 레시피 (36% 감소)로 현실적 목표 달성 가능

**Ultra Think 검증 완료:**
- 32개 성장 마일스톤이 정확히 70개 레시피에서 완료됨 확인
- 16개 특별공간 언락 조건은 기존 로직 완전 보존
- Side Effect 없는 안전한 시스템 변경 완료
- 기존 사용자 데이터 호환성 유지

**사용자 가치 향상:**
- 완주 동기 부여 강화 (비현실적 110개→달성 가능한 70개)
- 점진적 성장 경험 최적화 (쉬운 시작→도전적 마무리)
- 토끼굴 시스템의 핵심 가치인 '성취감과 지속성' 극대화

### v2025.09.17 - 테스트 구조 재설정 대응
**문서 업데이트:**
- 테스트 디렉터리 완전 제거에 따른 문서 정리 완료
- 프로젝트 상태를 "테스트 구조 재설정" 단계로 명시
- 불필요한 구버전 파일들 식별 완료 (recipesoup_PRD_0901.md, tests/README.md 등)

**프로젝트 현재 상태:**
- ✅ 소스코드: 안정적 운영 상태
- ✅ 문서: 최신 상태로 정리 완료
- ✅ 백업: Recipesoup_backup_20250917_181741 생성
- 🔄 테스트: 필요시 TDD 기반 재구축 준비

**Ultra Think 작업 완료:**
- 형상 관리를 위한 버전 히스토리 시스템 도입
- 문서별 변경사항 추적 체계 구축
- Side Effect 없는 안전한 문서 업데이트

---