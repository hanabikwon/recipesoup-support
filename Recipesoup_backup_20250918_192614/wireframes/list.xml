<?xml version="1.0" encoding="UTF-8"?>
<screen name="리스트 화면">
    <description>데이터 목록을 표시하는 화면 템플릿</description>
    
    <layout type="column">
        <!-- 상단 바 -->
        <app_bar
            height="56dp"
            background_color="#FFFFFF"
            elevation="2dp">
            
            <text
                id="screen_title"
                text="[목록 제목]"
                text_size="20sp"
                text_color="#333333"
                text_style="bold"
                layout_gravity="start"
                margin_start="16dp"/>
            
            <!-- 액션 버튼들 -->
            <container
                layout_gravity="end"
                orientation="horizontal">
                
                <icon_button
                    id="search_button"
                    icon="@drawable/ic_search"
                    width="48dp"
                    height="48dp"
                    tint="#666666"/>
                
                <icon_button
                    id="filter_button"
                    icon="@drawable/ic_filter"
                    width="48dp"
                    height="48dp"
                    tint="#666666"/>
                    
            </container>
        </app_bar>
        
        <!-- 검색 바 (숨김 가능) -->
        <container
            id="search_container"
            width="match_parent"
            height="wrap_content"
            padding="16dp"
            background_color="#F5F5F5"
            visibility="gone">
            
            <search_bar
                id="search_input"
                width="match_parent"
                height="48dp"
                hint="검색어를 입력하세요"
                background_color="#FFFFFF"
                corner_radius="24dp"
                padding_horizontal="16dp"
                icon="@drawable/ic_search"/>
                
        </container>
        
        <!-- 필터 칩 (선택사항) -->
        <horizontal_scroll_view
            width="match_parent"
            height="wrap_content"
            padding_vertical="8dp"
            background_color="#FFFFFF">
            
            <container
                width="wrap_content"
                height="wrap_content"
                orientation="horizontal"
                padding_horizontal="16dp">
                
                <chip
                    id="chip_all"
                    text="전체"
                    selected="true"
                    margin_end="8dp"/>
                
                <chip
                    id="chip_category1"
                    text="카테고리1"
                    margin_end="8dp"/>
                
                <chip
                    id="chip_category2"
                    text="카테고리2"
                    margin_end="8dp"/>
                
                <chip
                    id="chip_category3"
                    text="카테고리3"/>
                    
            </container>
        </horizontal_scroll_view>
        
        <!-- 리스트 콘텐츠 -->
        <refresh_layout
            width="match_parent"
            height="0dp"
            weight="1">
            
            <recycler_view
                id="main_list"
                width="match_parent"
                height="match_parent">
                
                <!-- 리스트 아이템 템플릿 -->
                <item_template>
                    <card
                        width="match_parent"
                        height="wrap_content"
                        margin_horizontal="16dp"
                        margin_vertical="8dp"
                        corner_radius="8dp"
                        elevation="2dp">
                        
                        <container
                            width="match_parent"
                            height="wrap_content"
                            orientation="horizontal"
                            padding="16dp">
                            
                            <!-- 썸네일 이미지 (선택사항) -->
                            <image
                                id="item_thumbnail"
                                width="60dp"
                                height="60dp"
                                corner_radius="8dp"
                                scale_type="center_crop"
                                background_color="#E0E0E0"/>
                            
                            <!-- 텍스트 콘텐츠 -->
                            <container
                                width="0dp"
                                height="wrap_content"
                                weight="1"
                                orientation="vertical"
                                margin_start="16dp">
                                
                                <!-- 제목 -->
                                <text
                                    id="item_title"
                                    text="[아이템 제목]"
                                    text_size="16sp"
                                    text_style="bold"
                                    text_color="#333333"
                                    max_lines="1"
                                    ellipsize="end"/>
                                
                                <!-- 부제목 -->
                                <text
                                    id="item_subtitle"
                                    text="[아이템 설명]"
                                    text_size="14sp"
                                    text_color="#666666"
                                    margin_top="4dp"
                                    max_lines="2"
                                    ellipsize="end"/>
                                
                                <!-- 메타 정보 -->
                                <container
                                    width="match_parent"
                                    height="wrap_content"
                                    orientation="horizontal"
                                    margin_top="8dp">
                                    
                                    <text
                                        id="item_date"
                                        text="[날짜]"
                                        text_size="12sp"
                                        text_color="#999999"/>
                                    
                                    <text
                                        text=" • "
                                        text_size="12sp"
                                        text_color="#999999"/>
                                    
                                    <text
                                        id="item_category"
                                        text="[카테고리]"
                                        text_size="12sp"
                                        text_color="#999999"/>
                                        
                                </container>
                                
                            </container>
                            
                            <!-- 액션 버튼 (선택사항) -->
                            <icon_button
                                id="item_action"
                                icon="@drawable/ic_more_vert"
                                width="24dp"
                                height="24dp"
                                tint="#999999"
                                layout_gravity="center_vertical"/>
                                
                        </container>
                    </card>
                </item_template>
                
                <!-- 빈 상태 뷰 -->
                <empty_view>
                    <container
                        width="match_parent"
                        height="match_parent"
                        gravity="center"
                        padding="32dp">
                        
                        <container
                            width="wrap_content"
                            height="wrap_content"
                            orientation="vertical"
                            gravity="center_horizontal">
                            
                            <image
                                width="120dp"
                                height="120dp"
                                src="@drawable/illustration_empty_list"
                                content_description="빈 리스트"/>
                            
                            <text
                                text="아직 항목이 없습니다"
                                text_size="18sp"
                                text_style="bold"
                                text_color="#333333"
                                margin_top="24dp"/>
                            
                            <text
                                text="새로운 항목을 추가해보세요"
                                text_size="14sp"
                                text_color="#666666"
                                margin_top="8dp"/>
                            
                            <button
                                id="empty_action_button"
                                text="추가하기"
                                style="filled"
                                background_color="#PRIMARY_COLOR"
                                text_color="#FFFFFF"
                                corner_radius="8dp"
                                padding_horizontal="24dp"
                                margin_top="24dp"/>
                                
                        </container>
                    </container>
                </empty_view>
                
            </recycler_view>
        </refresh_layout>
        
        <!-- 하단 정보 바 (선택사항) -->
        <container
            width="match_parent"
            height="48dp"
            background_color="#F5F5F5"
            gravity="center"
            padding_horizontal="16dp">
            
            <text
                id="list_count"
                text="총 0개의 항목"
                text_size="14sp"
                text_color="#666666"/>
                
        </container>
        
    </layout>
    
    <!-- 플로팅 액션 버튼 -->
    <floating_action_button
        id="fab_add"
        width="56dp"
        height="56dp"
        icon="@drawable/ic_add"
        background_color="#ACCENT_COLOR"
        layout_gravity="bottom|end"
        margin="16dp"
        margin_bottom="64dp"/>
    
    <interactions>
        <!-- 검색 토글 -->
        <toggle_visibility
            trigger="search_button"
            target="search_container"
            animation="slide_down"/>
        
        <!-- 필터 선택 -->
        <chip_selection
            group="filter_chips"
            single_selection="true"
            on_selection_changed="filter_list"/>
        
        <!-- 당겨서 새로고침 -->
        <pull_to_refresh
            target="refresh_layout"
            on_refresh="reload_list"/>
        
        <!-- 무한 스크롤 -->
        <infinite_scroll
            target="main_list"
            threshold="5"
            on_load_more="load_next_page"/>
    </interactions>
    
    <actions>
        <!-- 아이템 클릭 -->
        <click_action
            target="list_item"
            navigate_to="detail_screen"
            pass_data="item_id"/>
        
        <!-- 아이템 액션 메뉴 -->
        <click_action
            target="item_action"
            show_menu="item_options_menu"/>
        
        <!-- 추가 버튼 -->
        <click_action
            target="fab_add"
            navigate_to="create_screen"/>
        
        <click_action
            target="empty_action_button"
            navigate_to="create_screen"/>
        
        <!-- 필터 버튼 -->
        <click_action
            target="filter_button"
            show_bottom_sheet="filter_options"/>
    </actions>
    
    <!-- 컨텍스트 메뉴 -->
    <context_menu id="item_options_menu">
        <menu_item
            id="edit"
            text="수정"
            icon="@drawable/ic_edit"/>
        
        <menu_item
            id="share"
            text="공유"
            icon="@drawable/ic_share"/>
        
        <menu_item
            id="delete"
            text="삭제"
            icon="@drawable/ic_delete"
            text_color="#ERROR_COLOR"/>
    </context_menu>
</screen>